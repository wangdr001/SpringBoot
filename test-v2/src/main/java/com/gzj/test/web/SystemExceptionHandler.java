package com.gzj.test.web;import lombok.extern.slf4j.Slf4j;import org.apache.shiro.authz.UnauthenticatedException;import org.apache.shiro.authz.UnauthorizedException;import org.springframework.web.bind.annotation.ControllerAdvice;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.multipart.MaxUploadSizeExceededException;/** * 捕获系统异常 **//*** @ControllerAdvice 是Spring3.2提供的新注解,它是一个Controller增强器,*  可对controller中被 @RequestMapping注解的方法加一些逻辑处理。最常用的就是异常处理* 统一异常处理* 需要配合@ExceptionHandler使用。* 当将异常抛到controller时,可以对异常进行统一处理,规定返回的json格式或是跳转到一个错误页面 */@ControllerAdvice@Slf4jpublic class SystemExceptionHandler {    @ExceptionHandler(Exception.class) //异常拦截器（处理器）    @ResponseBody    public String resolveException(Exception ex) {        log.error("系统异常: {}",ex.getMessage());        if (ex instanceof UnauthenticatedException                || ex instanceof UnauthorizedException) {            return "权限不足,无法访问";        } else if (ex instanceof MaxUploadSizeExceededException) {            return "文件不能超过200M, 请重新上传";        }        return "系统异常";    }}